generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String        @id @default(uuid())
  name          String
  email         String        @unique
  password      String      
  telephone     String?       @unique
  height        Float
  weight        Float
  createdAt     DateTime      @default(now())
  workouts      Workout[]
}

model Workout {
  id            String       @id @default(uuid())
  name          String
  date          DateTime
  isCompleted   Boolean
  userId        String
  exercises     Exercise[]
  
  user          User        @relation(fields: [userId], references: [id])
}

model Exercise {
  id              String      @id @default(uuid())
  name            String
  setsPlanned     Int
  repsPlanned     Int
  weightPlanned   Float 
  datePlanned     Int
  setsCompleted   Int
  repsCompleted   Int
  weightCompleted Float
  dateCompleted   DateTime
  rir             Int?
  workoutId       String
  progress        Progress[]
  
  workout         Workout     @relation(fields: [workoutId], references: [id])
}

model Progress {
  id          String     @id @default(uuid())
  exerciseId  String
  sets        Int
  reps        Int
  weight      Float
  rir         Int?
  date        DateTime
  
  exercise    Exercise   @relation(fields: [exerciseId], references: [id])
}